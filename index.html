<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Car Dashboard</title>
  <link rel="stylesheet" href="vendor/leaflet.css" />
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Title Bar -->
  <div class="title-bar">
    <div class="title-bar-left">
      <span class="app-title">üöó CarDash</span>
    </div>
    <div class="title-bar-center">
      <span id="current-time" class="time-display">00:00</span>
      <span id="current-date" class="date-display"></span>
    </div>
    <div class="title-bar-right">
      <div class="status-indicators">
        <span id="temp-display" class="temp">22¬∞C</span>
        <span class="wifi-icon">üì∂</span>
        <span class="bt-icon">üîµ</span>
      </div>
      <div class="window-controls">
        <button id="btn-minimize" class="win-btn">‚îÄ</button>
        <button id="btn-maximize" class="win-btn">‚ñ°</button>
        <button id="btn-close" class="win-btn close">‚úï</button>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-container">
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
      <button class="nav-btn active" data-view="home">
        <span class="nav-icon">üè†</span>
        <span class="nav-text">F≈ëoldal</span>
      </button>
      <button class="nav-btn" data-view="music">
        <span class="nav-icon">üéµ</span>
        <span class="nav-text">Zene</span>
      </button>
      <button class="nav-btn" data-view="navigation">
        <span class="nav-icon">üó∫Ô∏è</span>
        <span class="nav-text">Navig√°ci√≥</span>
      </button>
      <button class="nav-btn" data-view="carplay">
        <span class="nav-icon">üì±</span>
        <span class="nav-text">CarPlay</span>
      </button>
      <button class="nav-btn" data-view="vehicle">
        <span class="nav-icon">üöò</span>
        <span class="nav-text">J√°rm≈±</span>
      </button>
      <button class="nav-btn" data-view="settings">
        <span class="nav-icon">‚öôÔ∏è</span>
        <span class="nav-text">Be√°ll√≠t√°sok</span>
      </button>
    </nav>

    <!-- Content Views -->
    <main class="content">
      <!-- Home View -->
      <div id="view-home" class="view active">
        <div class="home-grid">
          <!-- Speed Widget -->
          <div class="widget speed-widget">
            <div class="speed-gauge">
              <svg viewBox="0 0 200 200" class="gauge-svg">
                <circle cx="100" cy="100" r="90" class="gauge-bg"/>
                <circle cx="100" cy="100" r="90" class="gauge-fill" id="speed-gauge-fill"/>
              </svg>
              <div class="speed-value">
                <span id="current-speed">0</span>
                <span class="speed-unit">km/h</span>
              </div>
            </div>
          </div>

          <!-- Quick Info Widget -->
          <div class="widget info-widget">
            <div class="info-grid">
              <div class="info-item">
                <span class="info-icon">‚õΩ</span>
                <span class="info-label">√územanyag</span>
                <div class="info-bar">
                  <div class="info-bar-fill" id="fuel-bar" style="width: 75%"></div>
                </div>
                <span class="info-value" id="fuel-value">75%</span>
              </div>
              <div class="info-item">
                <span class="info-icon">üîã</span>
                <span class="info-label">Akkumul√°tor</span>
                <div class="info-bar">
                  <div class="info-bar-fill battery" id="battery-bar" style="width: 90%"></div>
                </div>
                <span class="info-value" id="battery-value">90%</span>
              </div>
              <div class="info-item">
                <span class="info-icon">üå°Ô∏è</span>
                <span class="info-label">Motor h≈ëm.</span>
                <span class="info-value large" id="engine-temp">85¬∞C</span>
              </div>
              <div class="info-item">
                <span class="info-icon">üìç</span>
                <span class="info-label">Hat√≥t√°v</span>
                <span class="info-value large" id="range-value">450 km</span>
              </div>
            </div>
          </div>

          <!-- Mini Map Widget -->
          <div class="widget map-widget" onclick="showView('navigation')">
            <div id="mini-map" class="mini-map"></div>
            <div class="map-overlay">
              <span>üìç Navig√°ci√≥ ind√≠t√°sa</span>
            </div>
          </div>

          <!-- Now Playing Widget -->
          <div class="widget music-widget" onclick="showView('music')">
            <div class="now-playing">
              <div class="album-art" id="home-album-art">
                <span class="music-placeholder">üéµ</span>
              </div>
              <div class="track-info">
                <span class="track-title" id="home-track-title">Nincs lej√°tsz√°s</span>
                <span class="track-artist" id="home-track-artist">V√°lassz zen√©t</span>
              </div>
              <div class="playback-controls-mini">
                <button class="ctrl-btn-mini" id="home-prev" title="El≈ëz≈ë">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
                </button>
                <button class="ctrl-btn-mini play" id="home-play" title="Lej√°tsz√°s">
                  <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
                  <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display: none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                </button>
                <button class="ctrl-btn-mini" id="home-next" title="K√∂vetkez≈ë">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- Weather Widget -->
          <div class="widget weather-widget">
            <div class="weather-content">
              <span class="weather-icon">‚òÄÔ∏è</span>
              <div class="weather-info">
                <span class="weather-temp">22¬∞C</span>
                <span class="weather-desc">Napos</span>
                <span class="weather-location">Budapest</span>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="widget actions-widget">
            <h3>Gyors m≈±veletek</h3>
            <div class="quick-actions">
              <button class="action-btn" onclick="showView('carplay')">
                <span>üì±</span>
                <span>CarPlay</span>
              </button>
              <button class="action-btn" onclick="toggleHazard()">
                <span id="hazard-icon">‚ö†Ô∏è</span>
                <span>V√©szvillog√≥</span>
              </button>
              <button class="action-btn" onclick="toggleLights()">
                <span id="lights-icon">üí°</span>
                <span>Vil√°g√≠t√°s</span>
              </button>
              <button class="action-btn" onclick="showView('settings')">
                <span>‚öôÔ∏è</span>
                <span>Be√°ll√≠t√°sok</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Music View -->
      <div id="view-music" class="view">
        <div class="music-container">
          <div class="music-header">
            <h2>üéµ Zenelej√°tsz√≥</h2>
            <div class="music-actions">
              <button class="action-btn-sm" id="btn-open-folder">üìÅ Playlist hozz√°ad√°sa</button>
              <button class="action-btn-sm" id="btn-open-files">üìÑ Zen√©k hozz√°ad√°sa</button>
            </div>
          </div>
          
          <div class="music-main">
            <!-- Library Panel -->
            <div class="library-panel">
              <div class="library-tabs">
                <button class="library-tab active" data-tab="playlists">üìÅ Playlistek</button>
                <button class="library-tab" data-tab="tracks">üéµ √ñsszes zene</button>
              </div>
              
              <!-- Playlists Tab -->
              <div class="library-content" id="playlists-tab">
                <div class="playlists-list" id="playlists-list">
                  <div class="playlist-empty">
                    <span>üìÅ</span>
                    <p>Nincs playlist</p>
                    <p class="hint">Adj hozz√° egy mapp√°t</p>
                  </div>
                </div>
              </div>
              
              <!-- All Tracks Tab -->
              <div class="library-content hidden" id="tracks-tab">
                <div class="playlist" id="playlist">
                  <div class="playlist-empty">
                    <span>üéµ</span>
                    <p>Nincs zene hozz√°adva</p>
                    <p class="hint">Haszn√°ld a fenti gombokat</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Player -->
            <div class="player-panel">
              <div class="album-cover" id="album-cover">
                <div class="album-placeholder">
                  <span>üéµ</span>
                </div>
                <img id="album-art-img" class="album-art-img" style="display: none;" />
              </div>
              
              <div class="track-details">
                <h2 class="track-name" id="track-name">V√°lassz egy sz√°mot</h2>
                <p class="artist-name" id="artist-name">Ismeretlen el≈ëad√≥</p>
                <div class="track-meta" id="track-meta">
                  <span class="meta-item" id="meta-album" style="display: none;"><span class="meta-icon">üíø</span> <span class="meta-value"></span></span>
                  <span class="meta-item" id="meta-year" style="display: none;"><span class="meta-icon">üìÖ</span> <span class="meta-value"></span></span>
                  <span class="meta-item" id="meta-genre" style="display: none;"><span class="meta-icon">üé≠</span> <span class="meta-value"></span></span>
                </div>
              </div>

              <div class="progress-container">
                <span class="time-current" id="time-current">0:00</span>
                <div class="progress-bar" id="progress-bar">
                  <div class="progress-fill" id="progress-fill"></div>
                </div>
                <span class="time-total" id="time-total">0:00</span>
              </div>

              <div class="playback-controls">
                <button class="ctrl-btn secondary" id="btn-shuffle" title="Kever√©s">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"/></svg>
                </button>
                <button class="ctrl-btn" id="btn-prev" title="El≈ëz≈ë">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
                </button>
                <button class="ctrl-btn play-btn" id="btn-play" title="Lej√°tsz√°s">
                  <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
                  <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display: none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                </button>
                <button class="ctrl-btn" id="btn-next" title="K√∂vetkez≈ë">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
                </button>
                <button class="ctrl-btn secondary" id="btn-repeat" title="Ism√©tl√©s">
                  <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg>
                </button>
              </div>

              <div class="volume-container">
                <button class="volume-btn" id="volume-icon" title="Hanger≈ë">
                  <svg class="vol-high" viewBox="0 0 24 24" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
                  <svg class="vol-low" viewBox="0 0 24 24" fill="currentColor" style="display: none;"><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/></svg>
                  <svg class="vol-mute" viewBox="0 0 24 24" fill="currentColor" style="display: none;"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>
                </button>
                <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="100">
                <span class="volume-value" id="volume-value">100%</span>
              </div>
            </div>
          </div>
        </div>
        <audio id="audio-player"></audio>
      </div>

      <!-- Navigation View -->
      <div id="view-navigation" class="view">
        <div class="navigation-container">
          <div class="nav-header">
            <div class="search-box">
              <input type="text" id="search-input" placeholder="üîç C√≠m keres√©se...">
              <button class="search-btn" id="btn-search">Keres√©s</button>
            </div>
            <div class="nav-info">
              <span id="nav-distance">--</span>
              <span id="nav-time">--</span>
            </div>
          </div>
          <div id="main-map" class="main-map"></div>
          <div class="nav-controls">
            <button class="nav-ctrl-btn" id="btn-locate">üìç Poz√≠ci√≥m</button>
            <button class="nav-ctrl-btn" id="btn-zoom-in">‚ûï</button>
            <button class="nav-ctrl-btn" id="btn-zoom-out">‚ûñ</button>
            <button class="nav-ctrl-btn" id="btn-3d-view">üó∫Ô∏è 3D N√©zet</button>
          </div>
          <div class="nav-suggestions" id="nav-suggestions">
            <h4>Legut√≥bbi c√©lok</h4>
            <div class="suggestion-list">
              <div class="suggestion-item" data-lat="46.896278381347656" data-lng="21.34123420715332">
                <span class="suggestion-icon">üè†</span>
                <div class="suggestion-info">
                  <span class="suggestion-name">Otthon</span>
                  <span class="suggestion-addr">Ok√°ny, Pet≈ëfi utca 9.</span>
                </div>
              </div>
              <div class="suggestion-item" data-lat="46.245365142822266" data-lng="20.15741539001465">
                <span class="suggestion-icon">üíº</span>
                <div class="suggestion-info">
                  <span class="suggestion-name">Alb√©rlet</span>
                  <span class="suggestion-addr">Szeged, Vedres utca 1/b.</span>
                </div>
              </div>
              <div class="suggestion-item" data-lat="46.6778655" data-lng="21.0898374">
                <span class="suggestion-icon">üõí</span>
                <div class="suggestion-info">
                  <span class="suggestion-name">Csaba Center</span>
                  <span class="suggestion-addr">B√©k√©scsaba, Andr√°ssy √∫t 37-43.</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- CarPlay View -->
      <div id="view-carplay" class="view">
        <div class="carplay-container">
          <div class="carplay-header">
            <h2>üì± CarPlay / Android Auto</h2>
            <div class="connection-status" id="carplay-status">
              <span class="status-dot disconnected"></span>
              <span>Nincs csatlakoztatva</span>
            </div>
          </div>
          
          <div class="carplay-content">
            <div class="carplay-placeholder">
              <div class="phone-icon">üì±</div>
              <h3>Csatlakoztasd a telefonod</h3>
              <p>Haszn√°lj USB k√°belt vagy Bluetooth-t a csatlakoz√°shoz</p>
              
              <div class="connection-options">
                <div class="conn-option">
                  <span class="conn-icon">üîå</span>
                  <span class="conn-label">USB</span>
                  <span class="conn-status">K√©sz</span>
                </div>
                <div class="conn-option">
                  <span class="conn-icon">üì∂</span>
                  <span class="conn-label">Bluetooth</span>
                  <span class="conn-status">Keres√©s...</span>
                </div>
                <div class="conn-option">
                  <span class="conn-icon">üì°</span>
                  <span class="conn-label">WiFi</span>
                  <span class="conn-status">El√©rhet≈ë</span>
                </div>
              </div>

              <div class="supported-apps">
                <h4>T√°mogatott alkalmaz√°sok</h4>
                <div class="app-icons">
                  <div class="app-icon">
                    <span>üéµ</span>
                    <span>Spotify</span>
                  </div>
                  <div class="app-icon">
                    <span>üó∫Ô∏è</span>
                    <span>Maps</span>
                  </div>
                  <div class="app-icon">
                    <span>üìû</span>
                    <span>Telefon</span>
                  </div>
                  <div class="app-icon">
                    <span>üí¨</span>
                    <span>√úzenetek</span>
                  </div>
                  <div class="app-icon">
                    <span>üéß</span>
                    <span>Podcasts</span>
                  </div>
                  <div class="app-icon">
                    <span>üìª</span>
                    <span>R√°di√≥</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="carplay-footer">
            <button class="carplay-btn" id="btn-scan-devices">üîç Eszk√∂z√∂k keres√©se</button>
            <button class="carplay-btn" id="btn-pair-new">‚ûï √öj eszk√∂z p√°ros√≠t√°sa</button>
          </div>
        </div>
      </div>

      <!-- Vehicle View -->
      <div id="view-vehicle" class="view">
        <div class="vehicle-container">
          <h2>üöò J√°rm≈± inform√°ci√≥k</h2>
          
          <div class="vehicle-grid">
            <div class="vehicle-card">
              <h3>Motor</h3>
              <div class="vehicle-stats">
                <div class="stat-item">
                  <span class="stat-label">Fordulatsz√°m</span>
                  <span class="stat-value" id="rpm-value">2500 RPM</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Motor h≈ëm√©rs√©klet</span>
                  <span class="stat-value" id="motor-temp">85¬∞C</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Olajnyom√°s</span>
                  <span class="stat-value">3.5 bar</span>
                </div>
              </div>
            </div>

            <div class="vehicle-card">
              <h3>√územanyag</h3>
              <div class="vehicle-stats">
                <div class="stat-item">
                  <span class="stat-label">Tankszint</span>
                  <div class="fuel-gauge">
                    <div class="fuel-level" id="fuel-level" style="width: 75%"></div>
                  </div>
                  <span class="stat-value">35L / 47L</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">√Åtlagfogyaszt√°s</span>
                  <span class="stat-value">5.5 L/100km</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Becs√ºlt hat√≥t√°v</span>
                  <span class="stat-value">625 km</span>
                </div>
              </div>
            </div>

            <div class="vehicle-card">
              <h3>Kerekek</h3>
              <div class="tire-display">
                <div class="tire-item">
                  <span class="tire-pos">BE</span>
                  <span class="tire-pressure">2.3</span>
                </div>
                <div class="tire-item">
                  <span class="tire-pos">JE</span>
                  <span class="tire-pressure">2.3</span>
                </div>
                <div class="tire-item">
                  <span class="tire-pos">BH</span>
                  <span class="tire-pressure">2.4</span>
                </div>
                <div class="tire-item">
                  <span class="tire-pos">JH</span>
                  <span class="tire-pressure">2.4</span>
                </div>
              </div>
              <span class="tire-unit">bar</span>
            </div>

            <div class="vehicle-card">
              <h3>√öt inform√°ci√≥k</h3>
              <div class="vehicle-stats">
                <div class="stat-item">
                  <span class="stat-label">Km √≥ra √°ll√°s</span>
                  <span class="stat-value">54,231 km</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">Napi km</span>
                  <span class="stat-value">127 km</span>
                </div>
                <div class="stat-item">
                  <span class="stat-label">√Åtlagsebess√©g</span>
                  <span class="stat-value">62 km/h</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings View -->
      <div id="view-settings" class="view">
        <div class="settings-container">
          <h2>‚öôÔ∏è Be√°ll√≠t√°sok</h2>
          
          <div class="settings-grid">
            <div class="settings-section">
              <h3>Megjelen√©s</h3>
              <div class="setting-item">
                <span class="setting-label">T√©ma</span>
                <select class="setting-select" id="theme-select">
                  <option value="dark">S√∂t√©t</option>
                  <option value="light">Vil√°gos</option>
                  <option value="auto">Automatikus</option>
                </select>
              </div>
              <div class="setting-item">
                <span class="setting-label">F√©nyer≈ë</span>
                <input type="range" class="setting-range" id="brightness-slider" min="20" max="100" value="80">
              </div>
              <div class="setting-item">
                <span class="setting-label">√âjszakai m√≥d</span>
                <label class="toggle">
                  <input type="checkbox" id="night-mode">
                  <span class="toggle-slider"></span>
                </label>
              </div>
            </div>

            <div class="settings-section">
              <h3>Hang</h3>
              <div class="setting-item">
                <span class="setting-label">Rendszerhangok</span>
                <label class="toggle">
                  <input type="checkbox" id="system-sounds" checked>
                  <span class="toggle-slider"></span>
                </label>
              </div>
              <div class="setting-item">
                <span class="setting-label">Navig√°ci√≥ hanger≈ë</span>
                <input type="range" class="setting-range" id="nav-volume" min="0" max="100" value="70">
              </div>
              <div class="setting-item">
                <span class="setting-label">√ârtes√≠t√©sek hangereje</span>
                <input type="range" class="setting-range" id="notif-volume" min="0" max="100" value="50">
              </div>
            </div>

            <div class="settings-section">
              <h3>Navig√°ci√≥</h3>
              <div class="setting-item">
                <span class="setting-label">M√©rt√©kegys√©g</span>
                <select class="setting-select" id="unit-select">
                  <option value="metric">Metrikus (km)</option>
                  <option value="imperial">Imperial (mi)</option>
                </select>
              </div>
              <div class="setting-item">
                <span class="setting-label">Aut√≥p√°lya elker√ºl√©se</span>
                <label class="toggle">
                  <input type="checkbox" id="avoid-highways">
                  <span class="toggle-slider"></span>
                </label>
              </div>
              <div class="setting-item">
                <span class="setting-label">Fizet≈ës utak elker√ºl√©se</span>
                <label class="toggle">
                  <input type="checkbox" id="avoid-tolls">
                  <span class="toggle-slider"></span>
                </label>
              </div>
            </div>

            <div class="settings-section">
              <h3>Rendszer</h3>
              <div class="setting-item">
                <span class="setting-label">Nyelv</span>
                <select class="setting-select" id="language-select">
                  <option value="hu">Magyar</option>
                  <option value="en">English</option>
                  <option value="de">Deutsch</option>
                </select>
              </div>
              <div class="setting-item">
                <span class="setting-label">Szoftver verzi√≥</span>
                <span class="setting-value">v0.1.0</span>
              </div>
              <div class="setting-item">
                <button class="setting-btn" id="btn-reset">Gy√°ri be√°ll√≠t√°sok</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="vendor/leaflet.js"></script>
  <script src="renderer.js"></script>
</body>
</html>
